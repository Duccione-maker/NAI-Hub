{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Utente\\\\lingua-kai-platform - restructured\\\\src\\\\components\\\\features\\\\onboarding\\\\OnboardingTest.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useCallback, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport useUserProfile from '../../../hooks/useUserProfile'; // Verrà creato in seguito\nimport aiService from '../../../services/aiService';\nimport userService from '../../../services/userService';\n\n// Tipi di domande\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst QUESTION_TYPES = {\n  MULTIPLE_CHOICE: 'multiple_choice',\n  TEXT: 'text',\n  TRANSLATION: 'translation'\n};\n\n// Domande del test di livello\nconst levelingQuestions = [{\n  id: 1,\n  type: QUESTION_TYPES.MULTIPLE_CHOICE,\n  question: 'Scegli la risposta corretta: \"Io ____ italiano.\"',\n  options: ['sono', 'è', 'sei', 'siamo'],\n  correctAnswer: 'sono',\n  level: 'A1'\n}, {\n  id: 2,\n  type: QUESTION_TYPES.MULTIPLE_CHOICE,\n  question: 'Completa la frase: \"Tu ____ una bella casa.\"',\n  options: ['hai', 'ho', 'ha', 'avete'],\n  correctAnswer: 'hai',\n  level: 'A1'\n}, {\n  id: 3,\n  type: QUESTION_TYPES.TEXT,\n  question: 'Scrivi una breve presentazione di te stesso in italiano.',\n  level: 'A2'\n}, {\n  id: 4,\n  type: QUESTION_TYPES.TRANSLATION,\n  question: 'Traduci in italiano: \"Yesterday I went to the cinema with my friends.\"',\n  level: 'B1'\n}, {\n  id: 5,\n  type: QUESTION_TYPES.TEXT,\n  question: 'Descrivi che cosa hai fatto lo scorso fine settimana usando il passato prossimo.',\n  level: 'B1'\n}];\n\n/**\r\n * Componente per il test di valutazione iniziale\r\n */\nconst OnboardingTest = () => {\n  _s();\n  const navigate = useNavigate();\n  const {\n    userProfile,\n    setUserProfile,\n    loading\n  } = useUserProfile();\n  const [currentQuestion, setCurrentQuestion] = useState(0);\n  const [answers, setAnswers] = useState([]);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [error, setError] = useState(null);\n  const [result, setResult] = useState(null);\n\n  // Se l'utente ha già un livello, reindirizza alla dashboard\n  useEffect(() => {\n    if (!loading && userProfile && userProfile.level && !result) {\n      navigate('/dashboard');\n    }\n  }, [loading, userProfile, navigate, result]);\n\n  // Gestisce il cambio di risposta\n  const handleAnswerChange = useCallback(event => {\n    const newAnswers = [...answers];\n    newAnswers[currentQuestion] = event.target.value;\n    setAnswers(newAnswers);\n  }, [answers, currentQuestion]);\n\n  // Gestisce il click sul bottone Avanti\n  const handleNext = useCallback(() => {\n    if (currentQuestion < levelingQuestions.length - 1) {\n      setCurrentQuestion(prevQuestion => prevQuestion + 1);\n    } else {\n      handleSubmit();\n    }\n  }, [currentQuestion, levelingQuestions.length]);\n\n  // Gestisce il click sul bottone Indietro\n  const handlePrevious = useCallback(() => {\n    if (currentQuestion > 0) {\n      setCurrentQuestion(prevQuestion => prevQuestion - 1);\n    }\n  }, [currentQuestion]);\n\n  // Gestisce la sottomissione del test\n  const handleSubmit = useCallback(async () => {\n    setIsSubmitting(true);\n    setError(null);\n    try {\n      // Valuta le risposte con l'AI\n      const evaluationResult = await aiService.evaluateOnboarding(answers);\n      setResult(evaluationResult);\n\n      // Aggiorna il profilo utente con il nuovo livello\n      if (evaluationResult && evaluationResult.level) {\n        await userService.updateLevel(evaluationResult.level);\n        setUserProfile(prev => ({\n          ...prev,\n          level: evaluationResult.level\n        }));\n      }\n\n      // Naviga alla dashboard dopo 3 secondi\n      setTimeout(() => {\n        navigate('/dashboard');\n      }, 3000);\n    } catch (err) {\n      console.error('Errore nella valutazione:', err);\n      setError('Si è verificato un errore durante la valutazione. Riprova più tardi.');\n    } finally {\n      setIsSubmitting(false);\n    }\n  }, [answers, navigate, setUserProfile]);\n\n  // Mostra un loader durante il caricamento\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center py-8\",\n      children: \"Caricamento in corso...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 12\n    }, this);\n  }\n\n  // Mostra il risultato del test\n  if (result) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-2xl mx-auto p-6 bg-white rounded-lg shadow-md\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-bold mb-4\",\n        children: \"Risultato del Test\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 bg-green-50 border border-green-200 rounded-md mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-lg\",\n          children: [\"Il tuo livello di italiano \\xE8: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: result.level\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 43\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-2\",\n          children: result.feedback\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-center text-gray-600\",\n        children: \"Verrai reindirizzato alla dashboard in un attimo...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Ottieni la domanda corrente\n  const question = levelingQuestions[currentQuestion];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-2xl mx-auto p-6 bg-white rounded-lg shadow-md\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-bold mb-6\",\n      children: \"Test di livello\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm text-gray-500\",\n        children: [\"Domanda \", currentQuestion + 1, \" di \", levelingQuestions.length]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"progress\", {\n        className: \"w-full h-2\",\n        value: currentQuestion + 1,\n        max: levelingQuestions.length\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-medium mb-3\",\n        children: question.question\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 9\n      }, this), question.type === QUESTION_TYPES.MULTIPLE_CHOICE && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-2\",\n        children: question.options.map((option, index) => /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"radio\",\n            name: `question-${question.id}`,\n            value: option,\n            checked: answers[currentQuestion] === option,\n            onChange: handleAnswerChange,\n            className: \"mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 17\n          }, this), option]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 11\n      }, this), (question.type === QUESTION_TYPES.TEXT || question.type === QUESTION_TYPES.TRANSLATION) && /*#__PURE__*/_jsxDEV(\"textarea\", {\n        className: \"w-full p-3 border border-gray-300 rounded-md\",\n        rows: \"5\",\n        value: answers[currentQuestion] || '',\n        onChange: handleAnswerChange,\n        placeholder: \"Scrivi la tua risposta qui...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-3 bg-red-50 text-red-700 rounded-md mb-4\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handlePrevious,\n        disabled: currentQuestion === 0,\n        className: `px-4 py-2 rounded-md ${currentQuestion === 0 ? 'bg-gray-200 text-gray-500 cursor-not-allowed' : 'bg-gray-200 text-gray-800 hover:bg-gray-300'}`,\n        children: \"Indietro\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleNext,\n        disabled: isSubmitting || !answers[currentQuestion],\n        className: `px-4 py-2 rounded-md ${isSubmitting || !answers[currentQuestion] ? 'bg-blue-300 text-white cursor-not-allowed' : 'bg-blue-600 text-white hover:bg-blue-700'}`,\n        children: currentQuestion < levelingQuestions.length - 1 ? 'Avanti' : 'Termina Test'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 153,\n    columnNumber: 5\n  }, this);\n};\n_s(OnboardingTest, \"UEwy+pppnVg/GD9WrG+Olket2HM=\", false, function () {\n  return [useNavigate, useUserProfile];\n});\n_c = OnboardingTest;\nexport default OnboardingTest;\nvar _c;\n$RefreshReg$(_c, \"OnboardingTest\");","map":{"version":3,"names":["React","useState","useCallback","useEffect","useNavigate","useUserProfile","aiService","userService","jsxDEV","_jsxDEV","QUESTION_TYPES","MULTIPLE_CHOICE","TEXT","TRANSLATION","levelingQuestions","id","type","question","options","correctAnswer","level","OnboardingTest","_s","navigate","userProfile","setUserProfile","loading","currentQuestion","setCurrentQuestion","answers","setAnswers","isSubmitting","setIsSubmitting","error","setError","result","setResult","handleAnswerChange","event","newAnswers","target","value","handleNext","length","prevQuestion","handleSubmit","handlePrevious","evaluationResult","evaluateOnboarding","updateLevel","prev","setTimeout","err","console","className","children","fileName","_jsxFileName","lineNumber","columnNumber","feedback","max","map","option","index","name","checked","onChange","rows","placeholder","onClick","disabled","_c","$RefreshReg$"],"sources":["C:/Users/Utente/lingua-kai-platform - restructured/src/components/features/onboarding/OnboardingTest.jsx"],"sourcesContent":["import React, { useState, useCallback, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport useUserProfile from '../../../hooks/useUserProfile'; // Verrà creato in seguito\r\nimport aiService from '../../../services/aiService';\r\nimport userService from '../../../services/userService';\r\n\r\n// Tipi di domande\r\nconst QUESTION_TYPES = {\r\n  MULTIPLE_CHOICE: 'multiple_choice',\r\n  TEXT: 'text',\r\n  TRANSLATION: 'translation'\r\n};\r\n\r\n// Domande del test di livello\r\nconst levelingQuestions = [\r\n  {\r\n    id: 1,\r\n    type: QUESTION_TYPES.MULTIPLE_CHOICE,\r\n    question: 'Scegli la risposta corretta: \"Io ____ italiano.\"',\r\n    options: ['sono', 'è', 'sei', 'siamo'],\r\n    correctAnswer: 'sono',\r\n    level: 'A1'\r\n  },\r\n  {\r\n    id: 2,\r\n    type: QUESTION_TYPES.MULTIPLE_CHOICE,\r\n    question: 'Completa la frase: \"Tu ____ una bella casa.\"',\r\n    options: ['hai', 'ho', 'ha', 'avete'],\r\n    correctAnswer: 'hai',\r\n    level: 'A1'\r\n  },\r\n  {\r\n    id: 3,\r\n    type: QUESTION_TYPES.TEXT,\r\n    question: 'Scrivi una breve presentazione di te stesso in italiano.',\r\n    level: 'A2'\r\n  },\r\n  {\r\n    id: 4,\r\n    type: QUESTION_TYPES.TRANSLATION,\r\n    question: 'Traduci in italiano: \"Yesterday I went to the cinema with my friends.\"',\r\n    level: 'B1'\r\n  },\r\n  {\r\n    id: 5,\r\n    type: QUESTION_TYPES.TEXT,\r\n    question: 'Descrivi che cosa hai fatto lo scorso fine settimana usando il passato prossimo.',\r\n    level: 'B1'\r\n  }\r\n];\r\n\r\n/**\r\n * Componente per il test di valutazione iniziale\r\n */\r\nconst OnboardingTest = () => {\r\n  const navigate = useNavigate();\r\n  const { userProfile, setUserProfile, loading } = useUserProfile();\r\n  \r\n  const [currentQuestion, setCurrentQuestion] = useState(0);\r\n  const [answers, setAnswers] = useState([]);\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [result, setResult] = useState(null);\r\n  \r\n  // Se l'utente ha già un livello, reindirizza alla dashboard\r\n  useEffect(() => {\r\n    if (!loading && userProfile && userProfile.level && !result) {\r\n      navigate('/dashboard');\r\n    }\r\n  }, [loading, userProfile, navigate, result]);\r\n  \r\n  // Gestisce il cambio di risposta\r\n  const handleAnswerChange = useCallback((event) => {\r\n    const newAnswers = [...answers];\r\n    newAnswers[currentQuestion] = event.target.value;\r\n    setAnswers(newAnswers);\r\n  }, [answers, currentQuestion]);\r\n  \r\n  // Gestisce il click sul bottone Avanti\r\n  const handleNext = useCallback(() => {\r\n    if (currentQuestion < levelingQuestions.length - 1) {\r\n      setCurrentQuestion(prevQuestion => prevQuestion + 1);\r\n    } else {\r\n      handleSubmit();\r\n    }\r\n  }, [currentQuestion, levelingQuestions.length]);\r\n  \r\n  // Gestisce il click sul bottone Indietro\r\n  const handlePrevious = useCallback(() => {\r\n    if (currentQuestion > 0) {\r\n      setCurrentQuestion(prevQuestion => prevQuestion - 1);\r\n    }\r\n  }, [currentQuestion]);\r\n  \r\n  // Gestisce la sottomissione del test\r\n  const handleSubmit = useCallback(async () => {\r\n    setIsSubmitting(true);\r\n    setError(null);\r\n    \r\n    try {\r\n      // Valuta le risposte con l'AI\r\n      const evaluationResult = await aiService.evaluateOnboarding(answers);\r\n      setResult(evaluationResult);\r\n      \r\n      // Aggiorna il profilo utente con il nuovo livello\r\n      if (evaluationResult && evaluationResult.level) {\r\n        await userService.updateLevel(evaluationResult.level);\r\n        setUserProfile(prev => ({\r\n          ...prev,\r\n          level: evaluationResult.level\r\n        }));\r\n      }\r\n      \r\n      // Naviga alla dashboard dopo 3 secondi\r\n      setTimeout(() => {\r\n        navigate('/dashboard');\r\n      }, 3000);\r\n    } catch (err) {\r\n      console.error('Errore nella valutazione:', err);\r\n      setError('Si è verificato un errore durante la valutazione. Riprova più tardi.');\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  }, [answers, navigate, setUserProfile]);\r\n  \r\n  // Mostra un loader durante il caricamento\r\n  if (loading) {\r\n    return <div className=\"text-center py-8\">Caricamento in corso...</div>;\r\n  }\r\n  \r\n  // Mostra il risultato del test\r\n  if (result) {\r\n    return (\r\n      <div className=\"max-w-2xl mx-auto p-6 bg-white rounded-lg shadow-md\">\r\n        <h2 className=\"text-2xl font-bold mb-4\">Risultato del Test</h2>\r\n        <div className=\"p-4 bg-green-50 border border-green-200 rounded-md mb-4\">\r\n          <p className=\"text-lg\">\r\n            Il tuo livello di italiano è: <strong>{result.level}</strong>\r\n          </p>\r\n          <p className=\"mt-2\">{result.feedback}</p>\r\n        </div>\r\n        <p className=\"text-center text-gray-600\">\r\n          Verrai reindirizzato alla dashboard in un attimo...\r\n        </p>\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  // Ottieni la domanda corrente\r\n  const question = levelingQuestions[currentQuestion];\r\n  \r\n  return (\r\n    <div className=\"max-w-2xl mx-auto p-6 bg-white rounded-lg shadow-md\">\r\n      <h2 className=\"text-2xl font-bold mb-6\">Test di livello</h2>\r\n      \r\n      <div className=\"mb-4\">\r\n        <p className=\"text-sm text-gray-500\">\r\n          Domanda {currentQuestion + 1} di {levelingQuestions.length}\r\n        </p>\r\n        <progress \r\n          className=\"w-full h-2\" \r\n          value={currentQuestion + 1} \r\n          max={levelingQuestions.length}\r\n        />\r\n      </div>\r\n      \r\n      <div className=\"mb-6\">\r\n        <h3 className=\"text-lg font-medium mb-3\">{question.question}</h3>\r\n        \r\n        {question.type === QUESTION_TYPES.MULTIPLE_CHOICE && (\r\n          <div className=\"space-y-2\">\r\n            {question.options.map((option, index) => (\r\n              <label key={index} className=\"flex items-center\">\r\n                <input\r\n                  type=\"radio\"\r\n                  name={`question-${question.id}`}\r\n                  value={option}\r\n                  checked={answers[currentQuestion] === option}\r\n                  onChange={handleAnswerChange}\r\n                  className=\"mr-2\"\r\n                />\r\n                {option}\r\n              </label>\r\n            ))}\r\n          </div>\r\n        )}\r\n        \r\n        {(question.type === QUESTION_TYPES.TEXT || \r\n          question.type === QUESTION_TYPES.TRANSLATION) && (\r\n          <textarea\r\n            className=\"w-full p-3 border border-gray-300 rounded-md\"\r\n            rows=\"5\"\r\n            value={answers[currentQuestion] || ''}\r\n            onChange={handleAnswerChange}\r\n            placeholder=\"Scrivi la tua risposta qui...\"\r\n          />\r\n        )}\r\n      </div>\r\n      \r\n      {error && (\r\n        <div className=\"p-3 bg-red-50 text-red-700 rounded-md mb-4\">\r\n          {error}\r\n        </div>\r\n      )}\r\n      \r\n      <div className=\"flex justify-between\">\r\n        <button\r\n          onClick={handlePrevious}\r\n          disabled={currentQuestion === 0}\r\n          className={`px-4 py-2 rounded-md ${\r\n            currentQuestion === 0\r\n              ? 'bg-gray-200 text-gray-500 cursor-not-allowed'\r\n              : 'bg-gray-200 text-gray-800 hover:bg-gray-300'\r\n          }`}\r\n        >\r\n          Indietro\r\n        </button>\r\n        \r\n        <button\r\n          onClick={handleNext}\r\n          disabled={isSubmitting || !answers[currentQuestion]}\r\n          className={`px-4 py-2 rounded-md ${\r\n            isSubmitting || !answers[currentQuestion]\r\n              ? 'bg-blue-300 text-white cursor-not-allowed'\r\n              : 'bg-blue-600 text-white hover:bg-blue-700'\r\n          }`}\r\n        >\r\n          {currentQuestion < levelingQuestions.length - 1 ? 'Avanti' : 'Termina Test'}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OnboardingTest;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}