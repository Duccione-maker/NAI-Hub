{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Utente\\\\lingua-kai-platform - restructured\\\\src\\\\App.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Routes, Route, useLocation, Navigate, Link } from 'react-router-dom';\n\n// Import dai componenti esistenti (nella cartella components/components)\nimport AccessibilityPage from './components/components/AccessibilityPage/AccessibilityPage';\nimport Navbar from './components/components/Navbar/Navbar';\nimport Dashboard from './components/components/Dashboard/Dashboard';\nimport TestIngresso from './components/components/TestIngresso/TestIngresso';\nimport LetturaAssistita from './components/components/LetturaAssistita/LetturaAssistita';\nimport SezioneScrittura from './components/components/SezioneScrittura/SezioneScrittura';\nimport SezionePunteggiatura from './components/components/SezionePunteggiatura/SezionePunteggiatura';\nimport SezioneRegistri from './components/components/SezioneRegistri/SezioneRegistri';\nimport SupportoLinguistico from './components/components/SupportoLinguistico/SupportoLinguistico';\nimport TorneoLinguaKai from './components/components/TorneoLinguaKai/TorneoLinguaKai';\nimport DojoConoscenza from './components/components/DojoConoscenza/DojoConoscenza';\nimport Letteratura from './components/components/Letteratura/Letteratura';\nimport TestoLetterario from './components/components/Letteratura/TestoLetterario';\nimport LoadingScreen from './components/components/common/LoadingScreen';\nimport SupportoButton from './components/components/common/SupportoButton';\nimport ProtectedRoute from './components/components/common/ProtectedRoute';\nimport ErrorBoundary from './components/components/common/ErrorBoundary';\nimport AccessibilityToolbar from './components/components/common/AccessibilityToolbar';\nimport PrivacyDashboard from './components/components/PrivacyDashboard/PrivacyDashboard';\nimport TeacherTraining from './components/components/TeacherTraining/TeacherTraining';\nimport SystemIntegrations from './components/components/SystemIntegrations/SystemIntegrations';\nimport NormativeCompliance from './components/components/NormativeCompliance/NormativeCompliance';\nimport ParentalConsent from './components/components/ParentalConsent/ParentalConsent';\nimport AccessoLetteraturaPanel from './components/components/admin/AccessoLetteraturaPanel';\nimport TeacherAccessLink from './components/components/TeacherAccess/TeacherAccessLink';\n\n// Import dai servizi (aggiornato per la nuova struttura)\nimport { getUserProfile } from './services/apiService';\nimport { UserProvider } from './contexts/UserContext';\nimport './App.css';\n\n// Componente interno per accedere a useLocation (deve essere usato all'interno di Router)\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AppContent = () => {\n  _s();\n  const [userProfile, setUserProfile] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [isSupportoVisible, setSupportoVisible] = useState(false);\n  const [currentSection, setCurrentSection] = useState(\"dashboard\");\n  const [consentVerified, setConsentVerified] = useState(false);\n  const location = useLocation();\n\n  // Caricamento del profilo utente\n  useEffect(() => {\n    const fetchUserProfile = async () => {\n      try {\n        // Verifica se esiste un profilo salvato localmente\n        const savedProfile = localStorage.getItem('userProfile');\n        if (savedProfile) {\n          try {\n            setUserProfile(JSON.parse(savedProfile));\n            setLoading(false);\n          } catch (e) {\n            console.error('Error parsing saved profile:', e);\n          }\n        }\n\n        // Carica comunque i dati freschi dal server\n        const profileData = await getUserProfile();\n        setUserProfile(profileData);\n\n        // Verifica età e necessità di consenso genitoriale\n        if (profileData && profileData.age < 14) {\n          const hasConsent = localStorage.getItem('parental-consent');\n          setConsentVerified(!!hasConsent);\n        } else {\n          setConsentVerified(true);\n        }\n\n        // Salva il profilo aggiornato\n        localStorage.setItem('userProfile', JSON.stringify(profileData));\n      } catch (error) {\n        console.error('Error fetching user profile:', error);\n        setError('Impossibile caricare il profilo utente. Riprova più tardi.');\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchUserProfile();\n  }, []);\n\n  // Determina la sezione corrente in base all'URL\n  useEffect(() => {\n    const path = location.pathname;\n    if (path.includes('lettura')) {\n      setCurrentSection('lettura');\n    } else if (path.includes('scrittura')) {\n      setCurrentSection('scrittura');\n    } else if (path.includes('punteggiatura')) {\n      setCurrentSection('punteggiatura');\n    } else if (path.includes('registri')) {\n      setCurrentSection('registri');\n    } else if (path.includes('torneo')) {\n      setCurrentSection('torneo');\n    } else if (path.includes('dojo')) {\n      setCurrentSection('dojo');\n    } else if (path.includes('letteratura')) {\n      setCurrentSection('letteratura');\n    } else if (path.includes('test-ingresso')) {\n      setCurrentSection('test');\n    } else if (path.includes('privacy')) {\n      setCurrentSection('privacy');\n    } else if (path.includes('formazione')) {\n      setCurrentSection('formazione');\n    } else if (path.includes('integrazioni')) {\n      setCurrentSection('integrazioni');\n    } else if (path.includes('normative')) {\n      setCurrentSection('normative');\n    } else if (path.includes('admin')) {\n      setCurrentSection('admin');\n    } else {\n      setCurrentSection('dashboard');\n    }\n  }, [location.pathname]);\n\n  // Reindirizzamento al test di ingresso se necessario\n  useEffect(() => {\n    if (userProfile && !userProfile.hasCompletedEntryTest && !location.pathname.includes('test-ingresso') && !location.pathname.includes('login') && !location.pathname.includes('privacy') && !location.pathname.includes('consent') && !location.pathname.includes('admin')) {\n      // Non reindirizza immediatamente per evitare loop in alcuni casi\n      setTimeout(() => {\n        window.location.href = '/test-ingresso';\n      }, 100);\n    }\n\n    // Reindirizzamento alla pagina di consenso genitoriale se necessario\n    if (userProfile && userProfile.age < 14 && !consentVerified && !location.pathname.includes('consent') && !location.pathname.includes('admin')) {\n      setTimeout(() => {\n        window.location.href = '/consent';\n      }, 100);\n    }\n  }, [userProfile, location.pathname, consentVerified]);\n  const toggleSupporto = () => {\n    setSupportoVisible(!isSupportoVisible);\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(LoadingScreen, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 11\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-screen\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 11\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(UserProvider, {\n    value: {\n      userProfile,\n      setUserProfile,\n      loading\n    },\n    children: /*#__PURE__*/_jsxDEV(ErrorBoundary, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"app\",\n        children: [/*#__PURE__*/_jsxDEV(Navbar, {\n          userProfile: userProfile,\n          currentSection: currentSection\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 10\n        }, this), /*#__PURE__*/_jsxDEV(AccessibilityToolbar, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 10\n        }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n          className: \"main-content\",\n          children: /*#__PURE__*/_jsxDEV(Routes, {\n            children: [/*#__PURE__*/_jsxDEV(Route, {\n              path: \"/\",\n              element: /*#__PURE__*/_jsxDEV(Dashboard, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 39\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 14\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/dashboard\",\n              element: /*#__PURE__*/_jsxDEV(Dashboard, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 48\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 14\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/test-ingresso\",\n              element: /*#__PURE__*/_jsxDEV(TestIngresso, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 52\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 14\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/privacy\",\n              element: /*#__PURE__*/_jsxDEV(PrivacyDashboard, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 46\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 14\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/consent\",\n              element: /*#__PURE__*/_jsxDEV(ParentalConsent, {\n                studentId: userProfile === null || userProfile === void 0 ? void 0 : userProfile.id,\n                setVerified: setConsentVerified\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 46\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 14\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/formazione\",\n              element: /*#__PURE__*/_jsxDEV(TeacherTraining, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 49\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 14\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/integrazioni\",\n              element: /*#__PURE__*/_jsxDEV(SystemIntegrations, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 51\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 14\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/normative\",\n              element: /*#__PURE__*/_jsxDEV(NormativeCompliance, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 48\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 14\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/accessibility\",\n              element: /*#__PURE__*/_jsxDEV(AccessibilityPage, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 52\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 14\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/lettura\",\n              element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n                requiresEntryTest: true,\n                requiresConsent: true,\n                children: /*#__PURE__*/_jsxDEV(LetturaAssistita, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 185,\n                  columnNumber: 18\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 16\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 14\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/scrittura\",\n              element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n                requiresEntryTest: true,\n                requiresConsent: true,\n                children: /*#__PURE__*/_jsxDEV(SezioneScrittura, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 191,\n                  columnNumber: 18\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 190,\n                columnNumber: 16\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 14\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/punteggiatura\",\n              element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n                requiresEntryTest: true,\n                requiresConsent: true,\n                children: /*#__PURE__*/_jsxDEV(SezionePunteggiatura, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 197,\n                  columnNumber: 18\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 16\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 14\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/registri\",\n              element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n                requiresEntryTest: true,\n                requiresConsent: true,\n                children: /*#__PURE__*/_jsxDEV(SezioneRegistri, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 203,\n                  columnNumber: 18\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 202,\n                columnNumber: 16\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 14\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/torneo\",\n              element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n                requiresEntryTest: true,\n                requiresConsent: true,\n                children: /*#__PURE__*/_jsxDEV(TorneoLinguaKai, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 209,\n                  columnNumber: 18\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 208,\n                columnNumber: 16\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 14\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/dojo\",\n              element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n                requiresEntryTest: true,\n                requiresConsent: true,\n                children: /*#__PURE__*/_jsxDEV(DojoConoscenza, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 215,\n                  columnNumber: 18\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 16\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 14\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/letteratura\",\n              element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n                requiresEntryTest: true,\n                requiresConsent: true,\n                children: /*#__PURE__*/_jsxDEV(Letteratura, {\n                  userProfile: userProfile\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 222,\n                  columnNumber: 18\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 16\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 14\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/letteratura/testo/:id\",\n              element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n                requiresEntryTest: true,\n                requiresConsent: true,\n                children: /*#__PURE__*/_jsxDEV(TestoLetterario, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 228,\n                  columnNumber: 18\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 227,\n                columnNumber: 16\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 14\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/admin\",\n              element: /*#__PURE__*/_jsxDEV(AccessoLetteraturaPanel, {\n                classi: [],\n                studenti: []\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 16\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 14\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"*\",\n              element: /*#__PURE__*/_jsxDEV(Navigate, {\n                to: \"/dashboard\",\n                replace: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 39\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 14\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 12\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 10\n        }, this), /*#__PURE__*/_jsxDEV(SupportoButton, {\n          isVisible: isSupportoVisible,\n          toggleVisibility: toggleSupporto,\n          currentLanguage: (userProfile === null || userProfile === void 0 ? void 0 : userProfile.preferredLanguage) || 'it'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 10\n        }, this), isSupportoVisible && /*#__PURE__*/_jsxDEV(SupportoLinguistico, {\n          onClose: () => setSupportoVisible(false),\n          currentSection: currentSection,\n          userProfile: userProfile\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 12\n        }, this), /*#__PURE__*/_jsxDEV(TeacherAccessLink, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 10\n        }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n          className: \"app-footer\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"compliance-links\",\n            children: [/*#__PURE__*/_jsxDEV(Link, {\n              to: \"/privacy\",\n              children: \"Privacy\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 14\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/normative\",\n              children: \"Conformit\\xE0 normativa\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 14\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/accessibility\",\n              children: \"Accessibilit\\xE0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 14\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 12\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ministry-compliance\",\n            children: /*#__PURE__*/_jsxDEV(\"small\", {\n              children: \"Conforme alle linee guida del Ministero dell'Istruzione sulla Didattica Digitale Integrata\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 14\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 12\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 10\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 8\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 6\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 160,\n    columnNumber: 4\n  }, this);\n};\n\n// Componente App principale\n_s(AppContent, \"ugig8TCZIP1YKQAnoy5n8yCQHUM=\", false, function () {\n  return [useLocation];\n});\n_c = AppContent;\nfunction App() {\n  return /*#__PURE__*/_jsxDEV(Router, {\n    children: /*#__PURE__*/_jsxDEV(AppContent, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 6\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 284,\n    columnNumber: 4\n  }, this);\n}\n_c2 = App;\nexport default App;\nvar _c, _c2;\n$RefreshReg$(_c, \"AppContent\");\n$RefreshReg$(_c2, \"App\");","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Routes","Route","useLocation","Navigate","Link","AccessibilityPage","Navbar","Dashboard","TestIngresso","LetturaAssistita","SezioneScrittura","SezionePunteggiatura","SezioneRegistri","SupportoLinguistico","TorneoLinguaKai","DojoConoscenza","Letteratura","TestoLetterario","LoadingScreen","SupportoButton","ProtectedRoute","ErrorBoundary","AccessibilityToolbar","PrivacyDashboard","TeacherTraining","SystemIntegrations","NormativeCompliance","ParentalConsent","AccessoLetteraturaPanel","TeacherAccessLink","getUserProfile","UserProvider","jsxDEV","_jsxDEV","AppContent","_s","userProfile","setUserProfile","loading","setLoading","error","setError","isSupportoVisible","setSupportoVisible","currentSection","setCurrentSection","consentVerified","setConsentVerified","location","fetchUserProfile","savedProfile","localStorage","getItem","JSON","parse","e","console","profileData","age","hasConsent","setItem","stringify","path","pathname","includes","hasCompletedEntryTest","setTimeout","window","href","toggleSupporto","fileName","_jsxFileName","lineNumber","columnNumber","className","children","value","element","studentId","id","setVerified","requiresEntryTest","requiresConsent","classi","studenti","to","replace","isVisible","toggleVisibility","currentLanguage","preferredLanguage","onClose","_c","App","_c2","$RefreshReg$"],"sources":["C:/Users/Utente/lingua-kai-platform - restructured/src/App.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Routes, Route, useLocation, Navigate, Link } from 'react-router-dom';\n\n// Import dai componenti esistenti (nella cartella components/components)\nimport AccessibilityPage from './components/components/AccessibilityPage/AccessibilityPage';\nimport Navbar from './components/components/Navbar/Navbar';\nimport Dashboard from './components/components/Dashboard/Dashboard';\nimport TestIngresso from './components/components/TestIngresso/TestIngresso';\nimport LetturaAssistita from './components/components/LetturaAssistita/LetturaAssistita';\nimport SezioneScrittura from './components/components/SezioneScrittura/SezioneScrittura';\nimport SezionePunteggiatura from './components/components/SezionePunteggiatura/SezionePunteggiatura';\nimport SezioneRegistri from './components/components/SezioneRegistri/SezioneRegistri';\nimport SupportoLinguistico from './components/components/SupportoLinguistico/SupportoLinguistico';\nimport TorneoLinguaKai from './components/components/TorneoLinguaKai/TorneoLinguaKai';\nimport DojoConoscenza from './components/components/DojoConoscenza/DojoConoscenza';\nimport Letteratura from './components/components/Letteratura/Letteratura';\nimport TestoLetterario from './components/components/Letteratura/TestoLetterario';\nimport LoadingScreen from './components/components/common/LoadingScreen';\nimport SupportoButton from './components/components/common/SupportoButton';\nimport ProtectedRoute from './components/components/common/ProtectedRoute';\nimport ErrorBoundary from './components/components/common/ErrorBoundary';\nimport AccessibilityToolbar from './components/components/common/AccessibilityToolbar';\nimport PrivacyDashboard from './components/components/PrivacyDashboard/PrivacyDashboard';\nimport TeacherTraining from './components/components/TeacherTraining/TeacherTraining';\nimport SystemIntegrations from './components/components/SystemIntegrations/SystemIntegrations';\nimport NormativeCompliance from './components/components/NormativeCompliance/NormativeCompliance';\nimport ParentalConsent from './components/components/ParentalConsent/ParentalConsent';\nimport AccessoLetteraturaPanel from './components/components/admin/AccessoLetteraturaPanel';\nimport TeacherAccessLink from './components/components/TeacherAccess/TeacherAccessLink';\n\n// Import dai servizi (aggiornato per la nuova struttura)\nimport { getUserProfile } from './services/apiService';\nimport { UserProvider } from './contexts/UserContext';\nimport './App.css';\n\n// Componente interno per accedere a useLocation (deve essere usato all'interno di Router)\nconst AppContent = () => {\n const [userProfile, setUserProfile] = useState(null);\n const [loading, setLoading] = useState(true);\n const [error, setError] = useState(null);\n const [isSupportoVisible, setSupportoVisible] = useState(false);\n const [currentSection, setCurrentSection] = useState(\"dashboard\");\n const [consentVerified, setConsentVerified] = useState(false);\n const location = useLocation();\n \n // Caricamento del profilo utente\n useEffect(() => {\n   const fetchUserProfile = async () => {\n     try {\n       // Verifica se esiste un profilo salvato localmente\n       const savedProfile = localStorage.getItem('userProfile');\n       if (savedProfile) {\n         try {\n           setUserProfile(JSON.parse(savedProfile));\n           setLoading(false);\n         } catch (e) {\n           console.error('Error parsing saved profile:', e);\n         }\n       }\n       \n       // Carica comunque i dati freschi dal server\n       const profileData = await getUserProfile();\n       setUserProfile(profileData);\n       \n       // Verifica età e necessità di consenso genitoriale\n       if (profileData && profileData.age < 14) {\n         const hasConsent = localStorage.getItem('parental-consent');\n         setConsentVerified(!!hasConsent);\n       } else {\n         setConsentVerified(true);\n       }\n       \n       // Salva il profilo aggiornato\n       localStorage.setItem('userProfile', JSON.stringify(profileData));\n     } catch (error) {\n       console.error('Error fetching user profile:', error);\n       setError('Impossibile caricare il profilo utente. Riprova più tardi.');\n     } finally {\n       setLoading(false);\n     }\n   };\n   \n   fetchUserProfile();\n }, []);\n \n // Determina la sezione corrente in base all'URL\n useEffect(() => {\n   const path = location.pathname;\n   if (path.includes('lettura')) {\n     setCurrentSection('lettura');\n   } else if (path.includes('scrittura')) {\n     setCurrentSection('scrittura');\n   } else if (path.includes('punteggiatura')) {\n     setCurrentSection('punteggiatura');\n   } else if (path.includes('registri')) {\n     setCurrentSection('registri');\n   } else if (path.includes('torneo')) {\n     setCurrentSection('torneo');\n   } else if (path.includes('dojo')) {\n     setCurrentSection('dojo');\n   } else if (path.includes('letteratura')) {\n     setCurrentSection('letteratura');\n   } else if (path.includes('test-ingresso')) {\n     setCurrentSection('test');\n   } else if (path.includes('privacy')) {\n     setCurrentSection('privacy');\n   } else if (path.includes('formazione')) {\n     setCurrentSection('formazione');\n   } else if (path.includes('integrazioni')) {\n     setCurrentSection('integrazioni');\n   } else if (path.includes('normative')) {\n     setCurrentSection('normative');\n   } else if (path.includes('admin')) {\n     setCurrentSection('admin');\n   } else {\n     setCurrentSection('dashboard');\n   }\n }, [location.pathname]);\n \n // Reindirizzamento al test di ingresso se necessario\n useEffect(() => {\n   if (userProfile && \n       !userProfile.hasCompletedEntryTest && \n       !location.pathname.includes('test-ingresso') && \n       !location.pathname.includes('login') &&\n       !location.pathname.includes('privacy') &&\n       !location.pathname.includes('consent') &&\n       !location.pathname.includes('admin')) {\n     // Non reindirizza immediatamente per evitare loop in alcuni casi\n     setTimeout(() => {\n       window.location.href = '/test-ingresso';\n     }, 100);\n   }\n   \n   // Reindirizzamento alla pagina di consenso genitoriale se necessario\n   if (userProfile && \n       userProfile.age < 14 && \n       !consentVerified && \n       !location.pathname.includes('consent') &&\n       !location.pathname.includes('admin')) {\n     setTimeout(() => {\n       window.location.href = '/consent';\n     }, 100);\n   }\n }, [userProfile, location.pathname, consentVerified]);\n \n const toggleSupporto = () => {\n   setSupportoVisible(!isSupportoVisible);\n };\n \n if (loading) {\n   return <LoadingScreen />;\n }\n \n if (error) {\n   return <div className=\"error-screen\">{error}</div>;\n }\n \n return (\n   <UserProvider value={{ userProfile, setUserProfile, loading }}>\n     <ErrorBoundary>\n       <div className=\"app\">\n         <Navbar userProfile={userProfile} currentSection={currentSection} />\n         \n         {/* AccessibilityToolbar sempre visibile */}\n         <AccessibilityToolbar />\n         \n         <main className=\"main-content\">\n           <Routes>\n             <Route path=\"/\" element={<Dashboard />} />\n             <Route path=\"/dashboard\" element={<Dashboard />} />\n             <Route path=\"/test-ingresso\" element={<TestIngresso />} />\n             \n             {/* Percorsi relativi alla conformità normativa */}\n             <Route path=\"/privacy\" element={<PrivacyDashboard />} />\n             <Route path=\"/consent\" element={<ParentalConsent studentId={userProfile?.id} setVerified={setConsentVerified} />} />\n             <Route path=\"/formazione\" element={<TeacherTraining />} />\n             <Route path=\"/integrazioni\" element={<SystemIntegrations />} />\n             <Route path=\"/normative\" element={<NormativeCompliance />} />\n             <Route path=\"/accessibility\" element={<AccessibilityPage />} />       \n             \n             {/* Percorsi protetti che richiedono il test di ingresso */}\n             <Route path=\"/lettura\" element={\n               <ProtectedRoute requiresEntryTest={true} requiresConsent={true}>\n                 <LetturaAssistita />\n               </ProtectedRoute>\n             } />\n             \n             <Route path=\"/scrittura\" element={\n               <ProtectedRoute requiresEntryTest={true} requiresConsent={true}>\n                 <SezioneScrittura />\n               </ProtectedRoute>\n             } />\n             \n             <Route path=\"/punteggiatura\" element={\n               <ProtectedRoute requiresEntryTest={true} requiresConsent={true}>\n                 <SezionePunteggiatura />\n               </ProtectedRoute>\n             } />\n             \n             <Route path=\"/registri\" element={\n               <ProtectedRoute requiresEntryTest={true} requiresConsent={true}>\n                 <SezioneRegistri />\n               </ProtectedRoute>\n             } />\n             \n             <Route path=\"/torneo\" element={\n               <ProtectedRoute requiresEntryTest={true} requiresConsent={true}>\n                 <TorneoLinguaKai />\n               </ProtectedRoute>\n             } />\n             \n             <Route path=\"/dojo\" element={\n               <ProtectedRoute requiresEntryTest={true} requiresConsent={true}>\n                 <DojoConoscenza />\n               </ProtectedRoute>\n             } />\n             \n             {/* Nuove rotte per la sezione Letteratura */}\n             <Route path=\"/letteratura\" element={\n               <ProtectedRoute requiresEntryTest={true} requiresConsent={true}>\n                 <Letteratura userProfile={userProfile} />\n               </ProtectedRoute>\n             } />\n             \n             <Route path=\"/letteratura/testo/:id\" element={\n               <ProtectedRoute requiresEntryTest={true} requiresConsent={true}>\n                 <TestoLetterario />\n               </ProtectedRoute>\n             } />\n             \n             {/* Rotta per l'Area Docenti */}\n             <Route path=\"/admin\" element={\n               <AccessoLetteraturaPanel \n                 classi={[]} \n                 studenti={[]} \n               />\n             } />\n             \n             {/* Reindirizzamento per percorsi non validi */}\n             <Route path=\"*\" element={<Navigate to=\"/dashboard\" replace />} />\n           </Routes>\n         </main>\n         \n         {/* Pulsante per attivare il supporto linguistico */}\n         <SupportoButton \n           isVisible={isSupportoVisible} \n           toggleVisibility={toggleSupporto} \n           currentLanguage={userProfile?.preferredLanguage || 'it'} \n         />\n         \n         {/* Componente di supporto linguistico che appare solo quando attivato */}\n         {isSupportoVisible && (\n           <SupportoLinguistico \n             onClose={() => setSupportoVisible(false)} \n             currentSection={currentSection}\n             userProfile={userProfile}\n           />\n         )}\n         \n         {/* Link all'Area Docenti */}\n         <TeacherAccessLink />\n         \n         {/* Footer con informazioni sulla conformità */}\n         <footer className=\"app-footer\">\n           <div className=\"compliance-links\">\n             <Link to=\"/privacy\">Privacy</Link>\n             <Link to=\"/normative\">Conformità normativa</Link>\n             <Link to=\"/accessibility\">Accessibilità</Link>\n           </div>\n           <div className=\"ministry-compliance\">\n             <small>Conforme alle linee guida del Ministero dell&apos;Istruzione sulla Didattica Digitale Integrata</small>\n           </div>\n         </footer>\n       </div>\n     </ErrorBoundary>\n   </UserProvider>\n );\n};\n\n// Componente App principale\nfunction App() {\n return (\n   <Router>\n     <AppContent />\n   </Router>\n );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}